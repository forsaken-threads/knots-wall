{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nVue.component('rss-widget', {\n    beforeCompile: function beforeCompile() {\n        if (!Cookies.getJSON(this.btoa(this.url)).collapsed) {\n            this.fetchFeed();\n        }\n    },\n    data: function data() {\n        if (Cookies.getJSON(this.btoa(this.url)) == undefined) {\n            Cookies.set(this.btoa(this.url), {\n                articleLimit: 5,\n                collapsed: true,\n                start: 0\n            });\n        }\n        return {\n            articleLimit: Cookies.getJSON(this.btoa(this.url)).articleLimit,\n            collapsed: Cookies.getJSON(this.btoa(this.url)).collapsed,\n            start: Cookies.getJSON(this.btoa(this.url)).start,\n            rss: {\n                entries: [],\n                meta: {\n                    update: 'never'\n                }\n            }\n        };\n    },\n    filters: {\n        date: function date(d, dateOnly) {\n            d = new Date(d);\n            if (dateOnly != undefined) {\n                return d.toLocaleDateString();\n            }\n            return d.toLocaleDateString() + ' ' + d.toLocaleTimeString();\n        }\n    },\n    methods: {\n        btoa: function (_btoa) {\n            function btoa(_x) {\n                return _btoa.apply(this, arguments);\n            }\n\n            btoa.toString = function () {\n                return _btoa.toString();\n            };\n\n            return btoa;\n        }(function (value) {\n            return btoa(value).replace('/', '-').replace('=', '_').replace('+', ':');\n        }),\n        fetchFeed: function fetchFeed() {\n            feednami.load(this.url, this.loadRss);\n        },\n        hide: function hide() {\n            this.collapsed = true;\n            this.save();\n        },\n        save: function save() {\n            Cookies.set(this.btoa(this.url), {\n                articleLimit: this.articleLimit,\n                collapsed: this.collapsed,\n                start: this.start\n            });\n        },\n        show: function show() {\n            this.collapsed = false;\n            if (this.rss.entries.length == 0) {\n                this.fetchFeed();\n            }\n            this.save();\n        },\n        loadRss: function loadRss(result) {\n            if (result.error) {\n                console.log(result.error);\n            } else {\n                this.rss = result.feed;\n            }\n        },\n        scroll: function scroll(direction) {\n            this.start = this.start + this.articleLimit * parseInt(direction);\n            this.save();\n        }\n    },\n    props: {\n        'title': null,\n        'url': null\n    },\n    ready: function ready() {\n        $('#' + this.btoa(this.url)).on('show.bs.collapse', this.show);\n        $('#' + this.btoa(this.url)).on('hide.bs.collapse', this.hide);\n    },\n    template: require('../pre/rss-widget.html'),\n    watch: {\n        articleLimit: function articleLimit(newVal, oldVal) {\n            this.start = 0;\n            this.save();\n        }\n    }\n});\nVue.component('text-snippet', {\n    beforeCompile: function beforeCompile() {\n        this.fullText = this.fullText.replace(/(<([^>]+)>)/ig, \"\");\n    },\n    data: function data() {\n        return { max: 150 };\n    },\n    filters: {\n        snippet: function snippet(value) {\n            return value.substr(0, this.max).match(/.+\\s/);\n        }\n    },\n    methods: {\n        fits: function fits() {\n            return this.fullText.length < this.max;\n        }\n    },\n    props: ['full-text'],\n    template: require('../pre/text-snippet.html')\n});\n\n\n},{\"../pre/rss-widget.html\":2,\"../pre/text-snippet.html\":3}],2:[function(require,module,exports){\nmodule.exports = '<div class=\"panel panel-default\">\\n    <div class=\"panel-heading\">\\n        <button class=\"btn btn-block btn-text-left\" data-toggle=\"collapse\" href=\"#{{ btoa(url) }}\" aria-expanded=\"false\" aria-controls=\"{{ btoa(url) }}\">\\n            <span class=\"pull-right\"><i class=\"fa\" :class=\"[collapsed ? \\'fa-caret-square-o-down\\': \\'fa-caret-square-o-up\\']\"></i></span>\\n            <i class=\"fa fa-rss-square\"></i> {{ title }}\\n        </button>\\n    </div>\\n    <div id=\"{{ btoa(url) }}\" class=\"panel-body collapse\" :class=\"{ \\'in\\': !collapsed }\">\\n        <div class=\"well well-sm\" v-if=\"rss.entries.length\">\\n            <dl>\\n                <template v-for=\"entry in rss.entries | limitBy articleLimit start\">\\n                    <dt>\\n                        <a class=\"pull-right\" :href=\"entry.link\"><i class=\"fa fa-external-link text-primary\"></i></a>\\n                        {{ entry.date | date true }} : {{ entry.title }}\\n                    </dt>\\n                    <dd><text-snippet :full-text=\"entry.summary\"></text-snippet></dd>\\n                </template>\\n            </dl>\\n        </div>\\n        <div v-else class=\"well well-sm text-center\"><i class=\"fa fa-spinner fa-spin fa-4x\"></i></div>\\n        <div class=\"form-inline\">\\n            <button @click=\"scroll(-1)\" type=\"button\" class=\"btn pull-left\" :disabled=\"start == 0\"><i class=\"fa fa-arrow-left\"></i></button>\\n            <button @click=\"scroll(1)\" type=\"button\" class=\"btn pull-right\" :disabled=\"start + articleLimit >= rss.entries.length\"><i class=\"fa fa-arrow-right\"></i></button>\\n            <div class=\"text-center\">\\n                <label for=\"{{ btoa(url) }}ArticleLimit\">Showing:</label>\\n                <select class=\"form-control\" id=\"{{ btoa(url)}}ArticleLimit\" v-model=\"articleLimit\" number>\\n                    <option v-for=\"n in 3\" :value=\"(n + 1) * 5\">{{ (n + 1) * 5 }}</option>\\n                </select>\\n            </div>\\n        </div>\\n        <h6>Last Update: {{ rss.meta.date | date }}</h6>\\n    </div>\\n</div>';\n},{}],3:[function(require,module,exports){\nmodule.exports = '<span v-if=\"fullText.length < max\">\\n    {{{ fullText }}}\\n</span>\\n<span v-else>\\n    {{{ fullText | snippet }}}&hellip;\\n</span>';\n},{}]},{},[1]);\n"],"file":"app.js","sourceRoot":"/source/"}